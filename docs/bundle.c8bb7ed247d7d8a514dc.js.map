{"version":3,"sources":["webpack://api-meteorologica/./src/index.js"],"names":["document","getElementById","tiempo","buttoncoordenadas","addEventListener","async","lat","lng","resp","fetch","input","value","ok","console","log","datos","json","results","geometry","error","conexionAPI","tiempoLocalizacion","tiempo_url","conexionAPITIEMPO","temperatura","main","temp","temperaturaMaxima","temp_max","temperaturaMinima","temp_min","innerHTML"],"mappings":"mBAQiBA,SAASC,eAAe,iBACxBD,SAASC,eAAe,kBANzC,MAOMC,EAAWF,SAASC,eAAe,UACnCE,EAAoBH,SAASC,eAAe,qBAC3BD,SAASC,eAAe,SAkC/CE,EAAkBC,iBAAkB,SAASC,UACzC,MAAM,IAACC,EAAG,IAAEC,QAhCIF,WAEhB,IACI,MAAMG,QAAaC,MAfQ,kDAecC,MAAMC,8CAC1CH,EAAKI,IACNC,QAAQC,IAAK,qCAEjB,MAAMC,QAAcP,EAAKQ,QACnB,IAACV,EAAG,IAAEC,GAAOQ,EAAME,QAAQ,GAAGC,SACpC,MAAO,CAACZ,MAAKC,OACf,MAAQY,GACN,MAAK,IAqBgBC,GAEnBC,OAnBgBhB,OAAOC,EAAKC,KAElC,IACI,MAAMC,QAAaC,MA7BJ,EAACH,EAAKC,IAAQ,uDAAuDD,SAAWC,2CA6BpEe,CAAYhB,EAAKC,IAK5C,OAJKC,EAAKI,IACNC,QAAQC,IAAK,2CAEGN,EAAKQ,OAE3B,MAAQG,GACN,MAAK,IASwBI,CAAmBjB,EAAKC,GACnDiB,EAAcH,EAAmBI,KAAKC,KACtCC,EAAoBN,EAAmBI,KAAKG,SAC5CC,EAAoBR,EAAmBI,KAAKK,SAClD5B,EAAO6B,UAAW,OAASP,EAAT,eAA6CG,EAA7C,eAAuFE,EACzGhB,QAAQC,IAAIa,O","file":"bundle.c8bb7ed247d7d8a514dc.js","sourcesContent":["//Importamos el css\r\nimport './css/style.css';\r\n//Llamadas a las APIS\r\nconst ubicacion_url  = (ciudad) => `https://api.opencagedata.com/geocode/v1/json?q=${ciudad}&key=9685758d81fb4626be7f0452345001bd`;\r\nconst tiempo_url     = (lat, lng) => `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lng}&appid=242beadf90212ef0cc908d0ca4ded28f`;\r\n\r\n\r\n\r\nconst latitud  = document.getElementById('input-latitud');\r\nconst longitud = document.getElementById('input-longitud');\r\nconst tiempo   = document.getElementById('tiempo');\r\nconst buttoncoordenadas = document.getElementById('boton-coordenadas');\r\nconst ciudad         = document.getElementById('input')\r\n\r\n\r\nconst conexionAPI = async( ) => {\r\n\r\n    try {\r\n        const resp = await fetch(  ubicacion_url(input.value) )\r\n        if( !resp.ok ) {\r\n            console.log( 'Ha habido un fallo en la conexión' );\r\n        }\r\n        const datos = await resp.json(); \r\n        const {lat, lng} = datos.results[0].geometry\r\n        return {lat, lng};\r\n    } catch ( error ) {\r\n        throw( error )\r\n    }\r\n}\r\n\r\nconst conexionAPITIEMPO = async( lat, lng ) => {\r\n\r\n    try {\r\n        const resp = await fetch(  tiempo_url( lat, lng) )\r\n        if( !resp.ok ) {\r\n            console.log( 'Ha habido un fallo en la conexión' );\r\n        }\r\n        const datos = await resp.json();\r\n        return datos\r\n    } catch ( error ) {\r\n        throw( error )\r\n    }\r\n}\r\n\r\n\r\n\r\nbuttoncoordenadas.addEventListener( 'click', async () => {\r\n    const {lat, lng} = await conexionAPI();\r\n    // console.log(await conexionAPITIEMPO(lat, lng))\r\n    const tiempoLocalizacion = await conexionAPITIEMPO( lat, lng)\r\n    const temperatura = tiempoLocalizacion.main.temp\r\n    const temperaturaMaxima = tiempoLocalizacion.main.temp_max\r\n    const temperaturaMinima = tiempoLocalizacion.main.temp_min\r\n    tiempo.innerHTML= 'ºC: ' + temperatura + '<br>' + 'max ºC: ' + temperaturaMaxima + '<br>' + 'min ºC: ' + temperaturaMinima \r\n    console.log(temperaturaMaxima)\r\n})\r\n\r\n\r\n\r\n    \r\n    \r\n    \r\n"],"sourceRoot":""}